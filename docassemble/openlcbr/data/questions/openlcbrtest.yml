features:
  javascript: list_collapse.js
  css: list_collapse.css
---
modules:
  - .lcbr
  - .ibp
  - docassemble.base.util
---
objects:
  - database: DAStaticFile.using(filename="data/sources/trade_secret_cases.yaml")
---
mandatory: True
question: docassemble-openlcbr demo
subquestion: |
  This website is a demonstration of the docassemble-openlcbr package being developed
  by Jason Morris of Round Table Law as an ABA Innovation Fellowship project for
  2018/2019.  The fellowship is sponsored by Clio.
  
  The purpose of this project is to take openlcbr, which is an open-source tool for
  legal case-based reasoning written by Matthias Grabmair, and to implement it as a
  extension to docassemble.
  Docassemble is a leading open-source legal expert system and document automation
  platform written by Jonathan Pyle.
  
  The purpose of the project is to explore whether it is possible to use
  reasoning-by-analogy to extend the capabilities of legal expert systems to
  include answering open-textured legal questions.
  
  Click below for an example of how reasoning by analogy works in an automated system.
field: intro_seen
---
if: intro_seen
mandatory: True
question: Example of Reasoning By Analogy
subquestion: |
  >The openlcbr tool comes with a test database dealing with the issue of whether there has
  >been a violation of a trade secret. It runs the analysis against one of the cases in
  >its database, called "KG." Here is the trace of the reasoning that the tool goes
  >through, and the prediction that it makes.  The text below is being generated by
  >the analogical reasoning tool when this page loads.
  
  ${ ibp_result }
field: output_seen
---
if: output_seen
mandatory: True
question: Demonstration of Explanation Tree
subquestion : |
  The output of the tool right now is a little difficult to understand, because it is 
  a trace of complicated algorithm.  Below is a prototype of what the output should
  look like when it has been converted to a tree structure.

    <ul>
    <li>A trade secret misappropriation exists (requires all)
      <ul>
      <li>the information was a trade secret (requires all)
        <ul>
        <li>the information was valuable
          <ul>
          <li>Not all factors relevant to this issue support the finding
            <ul>
            <li>The relevant factors are:
              <ul>
              <li>plaintiff’s product information could be learned by reverse-engineering
              <li>plaintiff’s information was unique in that plaintiff was the only manufacturer making the product
              </ul>
            </ul>
          <li>Not all cases with all the relevant factors support the finding.
            <ul>
            <li>The cases sharing relevant factors are:
              <ul>
              <li>AMERICAN-CAN won by p
              <li>HENRY-HOPE won by p
              <li>ILG-INDUSTRIES won by p
              <li>KAMIN won by p
              <li>KUBIK won by p
              <li>MASON won by p
              <li>TELEVATION won by p
              <li>NATIONAL-REJECTORS won by d
              </ul>
            </ul>
          <li>All cases found for the defendant can be distinguished.
            <ul>
            <li>NATiONAL-REJECTORS can be distinguished
              <ul>
              <li>NATIONAL-REJECTORS and the tests case do not share the following knock-out factors:
                <ul>
                <li>plaintiff did not adopt any security measures
                <li>plaintiff disclosed its information in a public forum
                </ul>
              </ul>
            </ul>
          </ul>
        <li>the owner of the information maintained its secrecy
          <ul>
          <li>all factors relevant to this issue support the finding
            <ul>
            <li>The relevant factors are:
              <ul>
              <li>plaintiff took active measures to limit access to and distribution of its information
              </ul>
            </ul>
        </ul>
      <li>the information was misappropriated (requires any)
        <ul>
        <li>improper means were used to obtain the information
          <ul>
          <li>Not all of the factors relevant to this issue support the finding
            <ul>
            <li>The relevant factors are:
              <ul>
              <li>defendant used materials that were subject to confidentiality restrictions
              <li>defendant discovered plaintiff’s information through reverse engineering
              </ul>
            </ul>
          <li>All the cases with all the relevant factors support the finding.
            <ul>
            <li>The relevant cases are:
              <ul>
              <li>TECHNICON won by p
              </ul>
            </ul>
          </ul>
        <li>there was a breach of confidentiality (requires all)
          <ul>
          <li>there was a relationship of confidentiality
            <ul>
            <li>All the relevant factors support this finding
              <ul>
              <li>The relevant factors are:
                <ul>
                <li>defendant obtained plaintiff’s information altough he knew that plaintiff’s information was confidential
                </ul>
              </ul>
            </ul>
          <li>the confidential information was used
            <ul>
            <li>Not all of the relevant factors support this finding
              <ul>
              <li>The relevant factors are:
                <ul>
                <li>defendant’s product was identical to plaintiff’s
                <li>defendant used materials that were subject to confidentiality restrictions
                <li>defendant discovered plaintiff’s information through reverse engineering
                </ul>
              </ul>
            <li>There are no cases featuring all the relevant factors.
            <li>All searches for cases with all but one factor support this finding.
              <ul>
              <li>A search for cases with all factors except defendant’s product was identical to plaintiff’s supports the finding.
                <ul>
                <li>All the relevant cases support the finding.
                  <ul>
                  <li>The relevant cases are:
                    <ul>
                    <li>TECHNICON won by p
                    </ul>
                  </ul>
                </ul>
              <li>A search for cases with all factors except defendant used materials that were subject to confidentiality restrictions supports the finding.
                <ul>
                <li>Not all cases with all the relevant factors support the finding.
                  <ul>
                  <li>The cases sharing relevant factors are:
                    <ul>
                    <li>MINERAL-DEPOSITS won by p
                    <li>AMERICAN-CAN won by p
                    <li>KAMIN won by p
                    <li>KUBIK won by p
                    <li>TELEVATION won by p
                    <li>NATIONAL-REJECTORS won by d
                    </ul>
                  </ul>
                <li>All cases found for the defendant can be distinguished.
                  <ul>
                  <li>NATiONAL-REJECTORS can be distinguished
                    <ul>
                    <li>NATIONAL-REJECTORS and the tests case do not share the following knock-out factors:
                      <ul>
                      <li>plaintiff did not adopt any security measures
                      <li>plaintiff disclosed its information in a public forum
                      </ul>
                    </ul>
                  </ul>
                </ul>
              <li>A search for cases with all factors except defendant discovered plaintiff’s information through reverse engineering supports the finding.
              </ul>
            </ul>
          </ul>
        </ul>  
      </ul>
    </ul>
field: show_tree
---
if: show_tree
mandatory: True
question: Example of Collapsing Explanation
subquestion: |
  <p>That is too much information to give to the user all at once, so a preferable
  way of displaying the reasoning of the tool would be to allow the user to see the
  parts of the explanation that they are interested in.  Below is a demonstration of
  how that interface will work.</p>
  <p>Current work on the tool involves changing the output of the algorithm to
  automatically generate explanation trees in a collapsable format as on this page.</p>
  <p>Click on a conclusion to see the reasons for that conclusion.</p>
  <div class="just-padding">

    <div class="list-group list-group-root">

      <a href="#item-1" class="list-group-item list-group-item-action" data-toggle="collapse">
        <i class="fa fa-caret-right"></i>There was a misappropriation of a trade secret
      </a>
      <div class="list-group collapse" id="item-1">

        <a href="#item-1-1" class="list-group-item list-group-item-action" data-toggle="collapse">
          <i class="fa fa-caret-right"></i>The information was a trade secret
        </a>
        <div class="list-group collapse" id="item-1-1">
          <div class="list-group-item list-group-item-action">Item 1.1.1</div>
          <div class="list-group-item list-group-item-action">Item 1.1.2</div>
        </div>
          <a href="#item-1-2" class="list-group-item list-group-item-action" data-toggle="collapse">
          <i class="fa fa-caret-right"></i>The information was misappropriated
        </a>
        <div class="list-group collapse" id="item-1-2">
          <div class="list-group-item list-group-item-action">Item 1.2.1</div>
          <div class="list-group-item list-group-item-action">Item 1.2.2</div>
        </div>
          

      </div> 
    </div>
  
  </div>
---
mandatory: True
code: |
  ibp_result = run_lcbr_test(database.path())
---